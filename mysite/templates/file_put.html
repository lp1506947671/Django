<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Ajax</title>
    <script src="http://libs.baidu.com/jquery/2.0.0/jquery.min.js"></script>
</head>
<body>
<div>
    <h3>示例1:基于form表单的文件上传:multipart/form-data</h3>
    <form action="" method="post" enctype="multipart/form-data">
        <label for="user">用户名</label>
        <input type="text" name="user">
        <label for="avatar">头像</label>
        <input type="file" name="avatar">
        <input type="submit">
    </form>
</div>

<div>
    <h3>示例2:基于form表单的文件上传:application/x-www-form-urlencoded</h3>
    <form action="" method="post">
        <label for="user2">用户名</label>
        <input type="text" name="user2" id="user2">
        <label for="avatar2">头像</label>
        <input type="file" name="avatar2" id="avatar2">
        <input type="button" class="btn" value="提交">
    </form>
</div>

<div>
    <h3>示例3: application/json</h3>
    <label for="user3">用户名3</label>
    <input type="text" name="user3" id="user3">
    <input type="button" class="btn3" value="提交">
</div>

</body>
<script>
    window.onload = function () {
        $(".btn").click(function () {
            let formData = new FormData();
            formData.append("user", $('#user2').val());
            formData.append("avatar", $('#avatar2')[0].files[0]);
            $.ajax({
                url: "",
                type: "post",
                contentType: "",
                processData: false,
                data: formData,
                success: function (data) {
                    console.log(data)
                }
            })
        });


        $(".btn3").click(function () {
            $.ajax({
                url: "",
                type: "post",
                contentType: "application/json",
                data: JSON.stringify({
                    "user": $('#user3').val()
                }),
                success: function (data) {
                    console.log(data)
                }
            })
        })
    }
</script>
</html>